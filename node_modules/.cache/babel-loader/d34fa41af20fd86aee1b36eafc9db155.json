{"ast":null,"code":"var _jsxFileName = \"/Users/alain/Documents/Cycurid/Demo-Website/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport \"../node_modules/bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.css\";\nimport { BrowserRouter as Router, Routes, Route, Link, Navigate } from \"react-router-dom\";\nimport { immeOauth, immeLogout } from \"cycurid-widget-js\";\nimport { immeVerification } from \"cycurid-verification-js\";\nimport Login from \"./components/login.component\";\nimport LoginFunc from \"./components/loginFunc.component\";\nimport SignUp from \"./components/signup.component\";\nimport Success from \"./components/success.component\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [username, setUsername] = useState();\n  const [userData, setUserData] = useState();\n  const [load, setLoad] = useState();\n  const [token, setToken] = useState();\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState();\n  const [documentType, setDocumentType] = useState();\n  const [documentNumber, setDocumentNumber] = useState();\n  const [documentCountry, setDocumentCountry] = useState(); // const [verficationData, setVerificationData] = useState();\n\n  let verificationData = [];\n  const config = {\n    origin_url: process.env.REACT_APP_ORIGIN_URL,\n    client_secret: process.env.REACT_APP_CLIENT_SECRET,\n    client_id: process.env.REACT_APP_CLIENT_ID,\n    scope: [\"reference_uuid\", // \"email\",\n    // \"phone\",\n    \"first_name\" // \"last_name\",\n    // \"middle_name\",\n    // \"dob\",\n    // \"address\",\n    // \"city\",\n    // \"zip\",\n    ],\n    entity_name: \"Imme Test Entity\"\n  };\n  const myUserData = {\n    verification: {\n      //callback: \"https://e83c-209-121-124-51.ngrok.io\",\n      callback: \"https://google.ca\",\n      person: {\n        first_name: firstName,\n        last_name: \"MEHRTASH\"\n      },\n      documents: {\n        type: \"driver_license\",\n        //driver_license\n        //passport\n        number: \"HP458183\",\n        country: \"can\"\n      },\n      internal_reference: \"dsafsdfasdfasdfasdf\"\n    }\n  };\n  const verificationConfig = {\n    client_api_key: process.env.REACT_APP_IMME_API_KEY,\n    client_api_secret: process.env.REACT_APP_IMME_API_SECRET,\n    verifiable_data: myUserData\n  };\n  useEffect(() => {\n    console.log('firstname:', firstName);\n  }, [firstName]);\n\n  function onSuccess(data, token) {\n    setUsername(data.reference_uuid);\n    setUserData(data.user_data);\n    setToken(token);\n    console.log(\"Data requested from scope: \", data);\n  }\n\n  function onFailure(data) {\n    console.log(data);\n  }\n\n  async function signIn(e) {\n    e.preventDefault();\n    immeOauth({ ...config,\n      action: \"login\"\n    }, onSuccess, onFailure);\n  }\n\n  async function signUp(e) {\n    immeOauth({ ...config,\n      action: \"login\"\n    }, onSuccess, onFailure);\n  }\n\n  async function verify(e) {\n    console.log('verificationConfig', verificationConfig);\n    e.preventDefault();\n    immeVerification(verificationConfig, onSuccess, onFailure);\n    console.log('verificationData', verificationData);\n  }\n\n  function logout() {\n    immeLogout(token.access_token, config.client_id, config.client_secret);\n    setUsername(null);\n  }\n\n  useEffect(() => {\n    setLoad(false);\n  }, [load]);\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"App\",\n      children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"navbar navbar-expand-lg navbar-light fixed-top\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            className: \"navbar-brand\",\n            to: \"/sign-in\",\n            children: \"CycurID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 13\n          }, this), !username && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"collapse navbar-collapse\",\n            id: \"navbarTogglerDemo02\",\n            children: /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"navbar-nav ml-auto\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"nav-item\",\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  className: \"nav-link\",\n                  to: \"/sign-in\",\n                  children: \"Login\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"nav-item\",\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  className: \"nav-link\",\n                  to: \"/sign-up\",\n                  children: \"Sign up\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auth-wrapper\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"auth-inner\",\n          children: /*#__PURE__*/_jsxDEV(Routes, {\n            children: [/*#__PURE__*/_jsxDEV(Route, {\n              exact: true,\n              path: \"/\",\n              element: !username ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: /*#__PURE__*/_jsxDEV(Login, {\n                  setFirstName: setFirstName,\n                  firstName: firstName // setLastName={setLastName}\n                  // setDocumentType={setDocumentType}\n                  // setDocumentNumber={setDocumentNumber}\n                  // setDocumentCountry={setDocumentCountry}\n                  ,\n                  signIn: signIn,\n                  verify: verify,\n                  setUsername: setUsername,\n                  setToken: setToken,\n                  verificationData: verificationData\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false) : /*#__PURE__*/_jsxDEV(Navigate, {\n                replace: true,\n                to: \"/success\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/sign-in\",\n              element: !username ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: /*#__PURE__*/_jsxDEV(Login, {\n                  signIn: signIn // verify={verify} \n\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false) : /*#__PURE__*/_jsxDEV(Navigate, {\n                replace: true,\n                to: \"/success\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/sign-up\",\n              element: !username ? /*#__PURE__*/_jsxDEV(SignUp, {\n                signUp: signUp\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n                replace: true,\n                to: \"/success\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Route, {\n              path: \"/success\",\n              element: username ? /*#__PURE__*/_jsxDEV(Success, {\n                logout: () => logout,\n                userData: userData\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n                replace: true,\n                to: \"/\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 114,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"hOT3neyG1iBwuGxW5GFhSgx4i14=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/alain/Documents/Cycurid/Demo-Website/src/App.js"],"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Link","Navigate","immeOauth","immeLogout","immeVerification","Login","LoginFunc","SignUp","Success","App","username","setUsername","userData","setUserData","load","setLoad","token","setToken","firstName","setFirstName","lastName","setLastName","documentType","setDocumentType","documentNumber","setDocumentNumber","documentCountry","setDocumentCountry","verificationData","config","origin_url","process","env","REACT_APP_ORIGIN_URL","client_secret","REACT_APP_CLIENT_SECRET","client_id","REACT_APP_CLIENT_ID","scope","entity_name","myUserData","verification","callback","person","first_name","last_name","documents","type","number","country","internal_reference","verificationConfig","client_api_key","REACT_APP_IMME_API_KEY","client_api_secret","REACT_APP_IMME_API_SECRET","verifiable_data","console","log","onSuccess","data","reference_uuid","user_data","onFailure","signIn","e","preventDefault","action","signUp","verify","logout","access_token"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"../node_modules/bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.css\";\nimport {\n  BrowserRouter as Router,\n  Routes,\n  Route,\n  Link,\n  Navigate,\n} from \"react-router-dom\";\nimport { immeOauth, immeLogout } from \"cycurid-widget-js\";\nimport { immeVerification } from \"cycurid-verification-js\";\nimport Login from \"./components/login.component\";\nimport LoginFunc from \"./components/loginFunc.component\";\nimport SignUp from \"./components/signup.component\";\nimport Success from \"./components/success.component\";\n\nfunction App() {\n  const [username, setUsername] = useState();\n  const [userData, setUserData] = useState();\n  const [load, setLoad] = useState();\n  const [token, setToken] = useState();\n\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState();\n  const [documentType, setDocumentType] = useState();\n  const [documentNumber, setDocumentNumber] = useState();\n  const [documentCountry, setDocumentCountry] = useState();\n\n  // const [verficationData, setVerificationData] = useState();\n  let verificationData = [];\n  const config = {\n    origin_url: process.env.REACT_APP_ORIGIN_URL,\n    client_secret: process.env.REACT_APP_CLIENT_SECRET,\n    client_id: process.env.REACT_APP_CLIENT_ID,\n    scope: [\n      \"reference_uuid\",\n      // \"email\",\n      // \"phone\",\n      \"first_name\",\n      // \"last_name\",\n      // \"middle_name\",\n      // \"dob\",\n      // \"address\",\n      // \"city\",\n      // \"zip\",\n    ],\n    entity_name: \"Imme Test Entity\",\n  };\n\n  const myUserData = {\n    verification: {\n      //callback: \"https://e83c-209-121-124-51.ngrok.io\",\n      callback: \"https://google.ca\",\n      person: {\n        first_name: firstName,\n        last_name: \"MEHRTASH\",\n      },\n      documents: {\n        type: \"driver_license\",\n        //driver_license\n        //passport\n        number: \"HP458183\",\n        country: \"can\",\n      },\n      internal_reference: \"dsafsdfasdfasdfasdf\",\n    },\n  };\n\n  const verificationConfig = {\n    client_api_key: process.env.REACT_APP_IMME_API_KEY,\n    client_api_secret: process.env.REACT_APP_IMME_API_SECRET,\n    verifiable_data: myUserData,\n  };\n\nuseEffect(() => {\n  console.log('firstname:' , firstName)\n},[firstName])\n\n  function onSuccess(data, token) {\n    setUsername(data.reference_uuid);\n    setUserData(data.user_data);\n    setToken(token);\n    console.log(\"Data requested from scope: \", data);\n  }\n\n  function onFailure(data) {\n    console.log(data);\n  }\n\n  async function signIn(e) {\n    e.preventDefault();\n    immeOauth({ ...config, action: \"login\" }, onSuccess, onFailure);\n  }\n  async function signUp(e) {\n\n    immeOauth({ ...config, action: \"login\" }, onSuccess, onFailure);\n  }\n  async function verify(e) {\n    console.log('verificationConfig',verificationConfig)\n    e.preventDefault();\n    immeVerification(verificationConfig, onSuccess, onFailure);\n    console.log('verificationData',verificationData)\n  }\n  function logout() {\n    immeLogout(token.access_token, config.client_id, config.client_secret);\n    setUsername(null);\n  }\n\n  useEffect(() => {\n    setLoad(false);\n  }, [load]);\n  return (\n    <Router>\n      <div className=\"App\">\n        <nav className=\"navbar navbar-expand-lg navbar-light fixed-top\">\n          <div className=\"container\">\n            <Link className=\"navbar-brand\" to={\"/sign-in\"}>\n              CycurID\n            </Link>\n            {!username && (\n              <div\n                className=\"collapse navbar-collapse\"\n                id=\"navbarTogglerDemo02\"\n              >\n                <ul className=\"navbar-nav ml-auto\">\n                  <li className=\"nav-item\">\n                    <Link className=\"nav-link\" to={\"/sign-in\"}>\n                      Login\n                    </Link>\n                  </li>\n                  <li className=\"nav-item\">\n                    <Link className=\"nav-link\" to={\"/sign-up\"}>\n                      Sign up\n                    </Link>\n                  </li>\n                </ul>\n              </div>\n            )}\n          </div>\n        </nav>\n\n        <div className=\"auth-wrapper\">\n          <div className=\"auth-inner\">\n            <Routes>\n              <Route\n                exact\n                path=\"/\"\n                element={\n                  !username ? (\n                    <>\n                      {/* <LoginFunc /> */}\n                      <Login\n                      setFirstName={setFirstName}\n                      firstName={firstName}\n                      // setLastName={setLastName}\n                      // setDocumentType={setDocumentType}\n                      // setDocumentNumber={setDocumentNumber}\n                      // setDocumentCountry={setDocumentCountry}\n\n                      signIn={signIn}\n                      verify={verify}\n                      setUsername={setUsername}\n                      setToken={setToken}\n                      verificationData={verificationData}\n                      />\n                    </>\n     \n                  ) : (\n                    <Navigate replace to=\"/success\" />\n                  )\n                }\n              />\n              <Route\n                path=\"/sign-in\"\n                element={\n                  !username ? (\n                    <>\n                      {/* <LoginFunc /> */}\n                      <Login signIn={signIn} \n                      // verify={verify} \n                      />\n                    </>\n\n                  ) : (\n                    <Navigate replace to=\"/success\" />\n                  )\n                }\n              />\n              <Route\n                path=\"/sign-up\"\n                element={\n                  !username ? (\n                    <SignUp signUp={signUp} />\n                  ) : (\n                    <Navigate replace to=\"/success\" />\n                  )\n                }\n              />\n\n              <Route\n                path=\"/success\"\n                element={\n                  username ? (\n                    <Success logout={() => logout} userData={userData} />\n                  ) : (\n                    <Navigate replace to=\"/\" />\n                  )\n                }\n              />\n            </Routes>\n          </div>\n        </div>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}